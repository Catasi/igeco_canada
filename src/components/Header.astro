---
import i18next, { t } from 'i18next'
import { LanguageSelector } from 'astro-i18next/components'

const lang = i18next.language
const base = i18next.language === 'en' ? '' :  `/${lang}`
---

<header>
  <div class='menu-container'>
    <a href={`${base}/`} class='logo'>
      <img src='/img/deutschemesse.webp' alt='IGECO' width='300' height="56" />
    </a>
    <nav>
      <div class='dropdown'>
        <div>
          <strong>{t('header.nav1')}</strong>
        </div>
        <ul class='dropdown-content'>
          <li><a href={`${base}/history`}>{t('header.nav1-1')} </a></li>
          <li><a href={`${base}/about-us`}>{t("header.nav1-2")}</a></li>
               <!--  <li><a href="{`${base}/areas-expertise`}">{t("header.nav1-3")}</a></li> -->
        </ul>
      </div>
      <div class='dropdown'>
        <div>
          <strong>{t('header.nav2')}</strong>
        </div>
        <div class='dropdown-content dropdown-content-2'>
          <div class="col">
            <p>{t('header.nav2-1')}</p>
            <ul style="text-align: left;">
              <li><a href="https://electricity-transformation.ca" target="_blank">{t("header.nav2-1-1")}</a></li>
            </ul>
          </div>
          <div class="col">
            <p>{t('header.nav2-2')}</p>
            <ul style="text-align: left;">
              <li><a href="https://re-plus-mexico.com.mx" target="_blank">{t("header.nav2-2-1")}</a></li>
              <li><a href="https://industrialtransformation.mx" target="_blank">{t("header.nav2-2-2")}</a></li>
              <li><a href="https://amofexpo.igeco.mx" target="_blank">{t("header.nav2-2-3")}</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class='button-language gap-3'>
        <svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" fill="#fff">
          <path clip-rule="evenodd" d="m7.10319 18.721c1.44393.8125 3.11001 1.2768 4.88431 1.279-.2692 0-.4875.2183-.4875.4875v.5125c0 .5523-.4477 1-1 1h-3c-.27614 0-.5.2239-.5.5s.22386.5.50001.5h8.99999c.2761 0 .5-.2239.5-.5s-.2239-.5-.5-.5h-3c-.5523 0-1-.4477-1-1v-.5125c0-.2692-.2183-.4875-.4875-.4875 5.5171-.0068 9.9875-4.4813 9.9875-10.00001 0-3.6579-1.964-6.85708-4.895-8.60058-.231-.13742-.5264-.05181-.6608.18098-.1417.24537-.0501.55823.1926.70441 2.6145 1.57468 4.3632 4.44072 4.3632 7.71519 0 4.97061-4.0294 9.00001-9 9.00001-1.5829 0-3.07031-.4086-4.36257-1.1262-.248-.1377-.56522-.0607-.70705.1849-.13422.2325-.06112.5307.17281.6623zm4.89681-.721c4.4183 0 8-3.5817 8-8 0-4.41828-3.5817-8-8-8-4.41828 0-8 3.58172-8 8 0 4.4183 3.58172 8 8 8zm0-1c2.4116 0 4.5384-1.2195 5.7973-3.0756l-1.7255-.9962c-1.248 1.9812-2.9042 3.4124-4.5242 4.0574.1496.0096.3004.0144.4524.0144zm6.002-3.3957c.0436-.0724.0859-.1458.1269-.2199zm-1.4302-1.5421 1.7263.9967c.4496-.9242.7019-1.9621.7019-3.0589 0-1.43763-.4334-2.77403-1.1766-3.8857.2517 1.72562-.1596 3.87609-1.2516 5.9479zm-.6659-7.8275c1.4232 1.29546 1.3536 4.36603-.2005 7.3273l-3.0224-1.745zm-.866-.5-3.2229 5.5823-3.02242-1.74497c1.78752-2.8265 4.41182-4.4221 6.24532-3.83733zm-3.7229 6.4483-3.02242-1.74495c-1.55404 2.96125-1.62368 6.03175-.20051 7.32725zm1.1353-7.16862c-1.6199.64499-3.27617 2.07624-4.52413 4.05743l-1.72548-.99621c1.25887-1.85604 3.38567-3.0756 5.79731-3.0756.152 0 .3028.00484.4523.01438zm-6.5821 3.60277c.04159-.07519.08451-.14953.12875-.22299zm1.55798 1.32068-1.72627-.99665c-.44966.92412-.70191 1.96201-.70191 3.05882 0 1.4376.43339 2.774 1.17664 3.8857-.25177-1.7256.15954-3.8761 1.25154-5.94787zm7.77722 4.49017-3.0224-1.745-3.22291 5.5823c1.83351.5847 4.45781-1.0108 6.24531-3.8373z" fill-rule="evenodd"></path>
        </svg>
        <!-- {
            i18next.language === 'en' ? (
              <img
                src='/img/flag-us.svg'
                alt='us flag'
              />
            ) : i18next.language === 'es' ? (
              <img
                src='/img/flag-mexico.svg'
                alt='es flag'
              />
            ) : i18next.language === 'fr' ? (
              <img
                src='/img/flag-france.svg'
                alt='fr flag'
              />
            ) : null
        } -->
        <LanguageSelector
          showFlag={true}
          aria-label='Select language'
          class='languaje-selector'
        />
      </div>
    </nav>
  </div>
</header>

<style>
  header {
    padding: 20px;
    background-color: #07439c;
  }

  .menu-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    width: 100%;
    justify-content: space-between;
    align-items: center;
    color: white;
  }

  a {
    text-decoration: none;
    color: white;
    position: relative;
    display: flex;
    justify-items: center;
  }

  nav {
    display: flex;
    justify-content: space-between;
    gap: 10px;
    align-items: center;
  }

  p {
    font-size: 16px;
    color: #919191;
    font-weight: bold;
  }


  .col {
    flex: 1 0 0%;
  }

  .dropdown {
    text-align: center;
    position: relative;
    display: inline-block;
  }

  .dropdown-content {
    display: none;
    position: absolute;
    background-color: #ffffff;
    width: max-content;
    box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
    padding: 1rem;
    margin: 0;
    z-index: 1;
    border-radius: 2px;
  }

  .dropdown-content li, ul {
    list-style: none;
    padding: 5px 0 5px 0;
  }

  .dropdown-content li a {
    display: block;
    padding: 5px 15px;
    color: black;
  }

  .dropdown-content li a:hover {
    background-color: #d0d0d0;
  }

  .dropdown:hover .dropdown-content {
    display: block;
  }

  .dropdown:hover .dropdown-content-2 {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    left: -500px;
  }
  .button-language {
    display: flex;
    align-items: center;
  }

  .button-language img {
    height: 2rem;
    width: 2rem;
    border-radius: 9999px;
    margin-right: 0.5rem;
  }

  .languaje-selector {
    display: block;
    width: 7rem;
    padding: 0.625rem;
    border-radius: 0.5rem;
    background-color: rgb(255, 255, 255);
    border-color: rgb(75 85 99);
    color: black;
  }

  @media (min-width: 768px) {
    .md\:order-2 {
      order: 2;
    }
  }

  @media (max-width: 693px) {
    .menu-container {
      justify-content: center;
    }

    .dropdown:hover .dropdown-content-2 {
      display: block;
      left: 0%;
      max-width: min-content;
    }
  }
</style>
